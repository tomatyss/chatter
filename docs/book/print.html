<!DOCTYPE HTML>
<html lang="en" class="light sidebar-visible" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Chatter Documentation</title>
        <meta name="robots" content="noindex">


        <!-- Custom HTML head -->

        <meta name="description" content="User and developer guide for the Chatter terminal client">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" id="highlight-css" href="highlight.css">
        <link rel="stylesheet" id="tomorrow-night-css" href="tomorrow-night.css">
        <link rel="stylesheet" id="ayu-highlight-css" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->


        <!-- Provide site root and default themes to javascript -->
        <script>
            const path_to_root = "";
            const default_light_theme = "light";
            const default_dark_theme = "navy";
            window.path_to_searchindex_js = "searchindex.js";
        </script>
        <!-- Start loading toc.js asap -->
        <script src="toc.js"></script>
    </head>
    <body>
    <div id="mdbook-help-container">
        <div id="mdbook-help-popup">
            <h2 class="mdbook-help-title">Keyboard shortcuts</h2>
            <div>
                <p>Press <kbd>←</kbd> or <kbd>→</kbd> to navigate between chapters</p>
                <p>Press <kbd>S</kbd> or <kbd>/</kbd> to search in the book</p>
                <p>Press <kbd>?</kbd> to show this help</p>
                <p>Press <kbd>Esc</kbd> to hide this help</p>
            </div>
        </div>
    </div>
    <div id="body-container">
        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                let theme = localStorage.getItem('mdbook-theme');
                let sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            const default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? default_dark_theme : default_light_theme;
            let theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            const html = document.documentElement;
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add("js");
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            let sidebar = null;
            const sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
                sidebar_toggle.checked = false;
            }
            if (sidebar === 'visible') {
                sidebar_toggle.checked = true;
            } else {
                html.classList.remove('sidebar-visible');
            }
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <!-- populated by js -->
            <mdbook-sidebar-scrollbox class="sidebar-scrollbox"></mdbook-sidebar-scrollbox>
            <noscript>
                <iframe class="sidebar-iframe-outer" src="toc.html"></iframe>
            </noscript>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="default_theme">Auto</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search (`/`)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="/ s" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">Chatter Documentation</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <div class="search-wrapper">
                            <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                            <div class="spinner-wrapper">
                                <i class="fa fa-spinner fa-spin"></i>
                            </div>
                        </div>
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="introduction"><a class="header" href="#introduction">Introduction</a></h1>
<p>Chatter is a Rust-powered terminal client for exploring large language models. It offers a familiar chat workflow for Google's Gemini API and local Ollama models, complete with streaming output, session management, and an opt-in autonomous agent mode for filesystem tasks.</p>
<p>This book walks you through installing, configuring, and extending Chatter. It expands on the project README with deeper explanations, practical examples, and development notes to help you adapt the tool to your workflow.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="installation"><a class="header" href="#installation">Installation</a></h1>
<p>You can install Chatter either with Homebrew or by building from source. Homebrew is the fastest path for macOS users, while the source build works on every platform supported by Rust.</p>
<h2 id="homebrew"><a class="header" href="#homebrew">Homebrew</a></h2>
<pre><code class="language-bash">brew tap tomatyss/chatter
brew install chatter
</code></pre>
<p>Upgrades follow the usual <code>brew update &amp;&amp; brew upgrade chatter</code> flow.</p>
<h2 id="from-source"><a class="header" href="#from-source">From Source</a></h2>
<pre><code class="language-bash">git clone https://github.com/tomatyss/chatter.git
cd chatter
cargo build --release
sudo cp target/release/chatter /usr/local/bin/
</code></pre>
<p>You need the Rust toolchain (via <a href="https://rustup.rs/">rustup</a>) and a C toolchain for compiling the dependency chain. Once the binary is copied into your <code>$PATH</code>, run <code>chatter --help</code> to confirm the installation.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="configuration"><a class="header" href="#configuration">Configuration</a></h1>
<p>Chatter stores its configuration on disk so you can reuse API keys, default providers, and Ollama settings. Configuration lives in platform-specific directories:</p>
<ul>
<li><strong>macOS:</strong> <code>~/Library/Application Support/chatter/config.json</code></li>
<li><strong>Linux:</strong> <code>~/.config/chatter/config.json</code></li>
<li><strong>Windows:</strong> <code>%APPDATA%\chatter\config.json</code></li>
</ul>
<h2 id="managing-api-keys"><a class="header" href="#managing-api-keys">Managing API Keys</a></h2>
<p>Set a Gemini API key once and Chatter will reuse it for future sessions:</p>
<pre><code class="language-bash">chatter config set-api-key
</code></pre>
<p>Alternatively, export the <code>GEMINI_API_KEY</code> environment variable before starting the CLI. The configuration file stores keys securely using your OS keyring when available.</p>
<h2 id="provider-defaults"><a class="header" href="#provider-defaults">Provider Defaults</a></h2>
<p>Configuration fields worth knowing:</p>
<ul>
<li><code>provider</code> — active provider (<code>"gemini"</code> or <code>"ollama"</code>)</li>
<li><code>default_model</code> — fallback model when you omit <code>--model</code></li>
<li><code>ollama.endpoint</code> — base URL for the Ollama server (defaults to <code>http://localhost:11434</code>)</li>
</ul>
<p>Edit these values through the CLI or by modifying the JSON file directly.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="using-chatter"><a class="header" href="#using-chatter">Using Chatter</a></h1>
<p>The default mode launches an interactive shell with streaming responses and an always-on history buffer. You can also invoke Chatter for one-shot prompts or scripted automation.</p>
<pre><code class="language-bash">chatter
</code></pre>
<p>Inside the interface, type <code>/help</code> for a list of commands. Use <code>/model</code> or <code>/provider</code> to switch models, <code>/save</code> to persist the transcript, and <code>/exit</code> to leave the session.</p>
<p>For quick questions, pass the prompt as a positional argument:</p>
<pre><code class="language-bash">chatter "Explain ownership in Rust"
</code></pre>
<p>Additional flags let you set the model, override the provider, and inject system instructions.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="interactive-chat"><a class="header" href="#interactive-chat">Interactive Chat</a></h1>
<p>Interactive mode maintains a conversation state so later prompts have access to earlier context. Streaming output keeps the terminal responsive while Gemini or Ollama streams tokens back to the client.</p>
<p>Useful commands during a chat session:</p>
<ul>
<li><code>/help</code> — show command reference</li>
<li><code>/system</code> — set the system prompt mid-conversation</li>
<li><code>/clear</code> — reset the transcript without restarting the binary</li>
<li><code>/save</code> — write the session to disk (defaults to <code>./session-&lt;timestamp&gt;.json</code>)</li>
<li><code>/load</code> — load a previous session file</li>
</ul>
<p>You can toggle providers on the fly with <code>/provider gemini</code> or <code>/provider ollama</code>, and pick a specific model with <code>/model &lt;name&gt;</code>.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="agent-mode"><a class="header" href="#agent-mode">Agent Mode</a></h1>
<p>Agent mode grants the assistant controlled access to your filesystem. When enabled, Chatter exposes a curated set of tools (such as <code>read_file</code>, <code>write_file</code>, and <code>search_files</code>) that the model can invoke under supervision.</p>
<p>Enable agent mode from inside a chat session:</p>
<pre><code class="language-text">/agent on
/agent allow-path .
</code></pre>
<p>You can inspect history with <code>/agent history</code>, view available tools with <code>/agent tools</code>, and disable the feature with <code>/agent off</code>. The agent never leaves the directories you explicitly allow.</p>
<p>Use agent mode for repetitive local tasks: summarizing files, quick refactors, or generating reports. Keep an eye on the streamed tool output to ensure each action matches your expectations.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="sessions"><a class="header" href="#sessions">Sessions</a></h1>
<p>Chatter stores conversations as JSON so you can pause and resume long-running threads. Saving a session preserves messages, system instructions, and model selections.</p>
<pre><code class="language-text">/save my-session.json
</code></pre>
<p>Reload the transcript later with <code>/load my-session.json</code>. Session files default to the <code>sessions/</code> directory in the configuration path, but you can supply absolute or relative paths.</p>
<p>When sharing sessions, remove sensitive content manually—Chatter does not scrub secrets on export.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="providers-and-models"><a class="header" href="#providers-and-models">Providers and Models</a></h1>
<p>Chatter supports Gemini and any Ollama model you have locally.</p>
<h2 id="gemini"><a class="header" href="#gemini">Gemini</a></h2>
<p>Gemini requires an API key from <a href="https://aistudio.google.com/app/apikey">Google AI Studio</a>. Chatter defaults to the <code>gemini-2.5-flash</code> model, but you can select other Gemini models with <code>--model</code> or <code>/model</code> in the UI.</p>
<h2 id="ollama"><a class="header" href="#ollama">Ollama</a></h2>
<p>Install <a href="https://ollama.com/">Ollama</a> and run <code>ollama serve</code>. Chatter connects to <code>http://localhost:11434</code> unless you override the endpoint via configuration. Once Ollama is running, pull any supported model, for example:</p>
<pre><code class="language-bash">ollama pull llama3.1
chatter --provider ollama --model llama3.1
</code></pre>
<p>Tool calls are available in Ollama mode, enabling local workflows that need filesystem access coupled with language model reasoning.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="development-guide"><a class="header" href="#development-guide">Development Guide</a></h1>
<p>Chatter is a Rust 2021 project organised as a single binary crate. Key directories:</p>
<ul>
<li><code>src/cli</code> — argument parsing and command wiring using <code>clap</code></li>
<li><code>src/chat</code> — interactive chat runtime and terminal presentation using <code>crossterm</code> and <code>ratatui</code></li>
<li><code>src/api</code> — provider-specific HTTP clients</li>
<li><code>src/agent</code> — tool definitions and execution</li>
<li><code>src/config</code> — persistent configuration management</li>
<li><code>src/templates</code> — reusable output templates</li>
</ul>
<h2 id="building-and-testing"><a class="header" href="#building-and-testing">Building and Testing</a></h2>
<pre><code class="language-bash">cargo fmt
cargo clippy -- -D warnings
cargo test
</code></pre>
<p>Use <code>cargo build --release</code> for production builds. The <code>build.sh</code> script wraps a release build plus Homebrew packaging steps.</p>
<h2 id="contributing"><a class="header" href="#contributing">Contributing</a></h2>
<ol>
<li>Fork the repository</li>
<li>Create a feature branch</li>
<li>Implement the change and any relevant tests</li>
<li>Run the command suite above</li>
<li>Open a pull request with a summary of the change</li>
</ol>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->


                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">

            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="elasticlunr.min.js"></script>
        <script src="mark.min.js"></script>
        <script src="searcher.js"></script>

        <script src="clipboard.min.js"></script>
        <script src="highlight.js"></script>
        <script src="book.js"></script>

        <!-- Custom JS scripts -->

        <script>
        window.addEventListener('load', function() {
            window.setTimeout(window.print, 100);
        });
        </script>


    </div>
    </body>
</html>
